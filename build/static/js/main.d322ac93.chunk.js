(this["webpackJsonpquiz-app-starter"]=this["webpackJsonpquiz-app-starter"]||[]).push([[0],{49:function(e,t,a){e.exports=a(69)},54:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),o=(a(54),a(11)),i=(a(55),a(74)),l=Object(n.createContext)({isAuthenticated:!1,setIsAuthenticated:function(e){},userData:{},setUserData:function(){},currentVideo:""}),u=a(6),d=a(26),m=a(35),p=a.n(m),h=a(43),f=a(44),g=function(){var e=Object(n.useContext)(l),t=e.isAuthenticated,a=e.setIsAuthenticated,c=e.setUserData,s=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/dwquiz-apis/","/g-auth.php"),{method:"POST",body:JSON.stringify({token:t.tokenId}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({func:"register_login_user",data:r})},fetch("".concat("/dwquiz-apis/post_requests.php"),s).then((function(e){return e.json()})).then((function(e){localStorage.setItem("userdata",JSON.stringify(e.data)),c(e.data),a(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(u.a,{to:""}):r.a.createElement(f.GoogleLogin,{clientId:"293677709302-nmo4l6spp6s7e9iqkie313er19qk2q28.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:s,onFailure:s,cookiePolicy:"single_host_origin"}))},E=a(76),b=a(77),O=a(75),w=function(e){var t=Object(n.useContext)(l),a=t.isAuthenticated,c=t.userData;return r.a.createElement(E.a,{bg:"light",expand:"lg",className:"px-2"},r.a.createElement(E.a.Brand,{href:"/"},r.a.createElement("img",{src:"https://videos.oneindia.com/videos/devel/images/admin/logo.png",alt:"",border:"0"})),r.a.createElement(E.a.Toggle,null),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav",className:"pe-3"},r.a.createElement(b.a,{className:"ms-auto"},r.a.createElement(b.a.Link,{href:"/dwquiz/"},"Home"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{title:r.a.createElement("span",{className:"pull-left"},r.a.createElement("img",{style:{width:"30px",borderRadius:"50%"},src:c.picture,alt:"user pic"})),id:"basic-nav-dropdown"},r.a.createElement(O.a.Item,null,c.name),r.a.createElement(O.a.Item,{onClick:e.handleLogout},"Logout"))):r.a.createElement(b.a.Link,{href:"/dwquiz/Login"},"Login"))))},x=a(38),v=a(48),j=function(){var e=Object(u.g)(),t=[{questionText:"What is the capital of France?",answerOptions:[{answerText:"New York",isCorrect:!1},{answerText:"London",isCorrect:!1},{answerText:"Paris",isCorrect:!0},{answerText:"Dublin",isCorrect:!1}]},{questionText:"Who is CEO of Tesla?",answerOptions:[{answerText:"Jeff Bezos",isCorrect:!1},{answerText:"Elon Musk",isCorrect:!0},{answerText:"Bill Gates",isCorrect:!1},{answerText:"Tony Stark",isCorrect:!1}]},{questionText:"The iPhone was created by which company?",answerOptions:[{answerText:"Apple",isCorrect:!0},{answerText:"Intel",isCorrect:!1},{answerText:"Amazon",isCorrect:!1},{answerText:"Microsoft",isCorrect:!1}]},{questionText:"How many Harry Potter books are there?",answerOptions:[{answerText:"1",isCorrect:!1},{answerText:"4",isCorrect:!1},{answerText:"6",isCorrect:!1},{answerText:"7",isCorrect:!0}]}],a=Object(u.h)().video_url,c=Object(n.useContext)(l),s=c.isAuthenticated,i=c.userData,d=Object(n.useState)(0),m=Object(o.a)(d,2),p=m[0],h=m[1],f=Object(n.useState)(!1),E=Object(o.a)(f,2),b=E[0],O=E[1],w=Object(n.useState)(0),j=Object(o.a)(w,2),T=j[0],C=j[1],S=Object(n.useState)(0),y=Object(o.a)(S,2),N=y[0],q=y[1],_=Object(n.useState)(0),k=Object(o.a)(_,2),I=k[0],P=k[1],z=Object(n.useState)([]),F=Object(o.a)(z,2),L=F[0],A=F[1],J=Object(n.useState)([]),D=Object(o.a)(J,2),W=D[0],B=D[1],M=Object(n.useState)(0),G=Object(o.a)(M,2),H=G[0],U=G[1],V=a,Y=Object(n.useState)(!0),Q=Object(o.a)(Y,2),R=Q[0],K=Q[1];Object(n.useEffect)((function(){if(s){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({func:"getThisVideoStatus",data:{user_id:i.user_id,video_id:a}})};fetch("".concat("/dwquiz-apis/post_requests.php"),n).then((function(e){return e.json()})).then((function(a){if(K(!1),-1===a.error)e.push("/");else if(0===a.error){var n=a.data.answer_count,r=a.data.score_count;""!==r&&C(parseInt(r)),""!==n&&(U(parseInt(n)),n<t.length?h(parseInt(n)):O(!0))}else alert("Something Went wrong, please try again!")}));var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({func:"getTotalScore",data:{user_id:i.user_id}})};fetch("".concat("/dwquiz-apis/post_requests.php"),r).then((function(e){return e.json()})).then((function(e){e.error||(q(e.data.score_count),P(e.data.participated))}))}}),[s,b,e]);var X=function(e){var a="secondary";return L.indexOf(p)>-1?e.isCorrect?a="success":W.map((function(t){t.qtnindex===p&&t.ansindex===e.index&&(a="danger")})):a="secondary",r.a.createElement(v.a,{variant:a,className:"mb-2 w-100",onClick:function(){return function(e){B([].concat(Object(x.a)(W),[{qtnindex:p,ansindex:e.index}])),e.isCorrect&&C(T+1);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({func:"save_answer",data:{user_id:i.user_id,question_id:p+1,video_id:V,answer:e.index,is_correct:e.isCorrect}})};fetch("".concat("/dwquiz-apis/post_requests.php"),a).then((function(e){return e.json()})).then((function(e){U(H+1);var a=p+1;A([].concat(Object(x.a)(L),[p])),a<t.length?setTimeout((function(){h(a)}),1e3):setTimeout((function(){O(!0)}),1e3)}))}(e)},disabled:L.indexOf(p)>-1?"disabled":""}," ",e.answerText," ")};return r.a.createElement(r.a.Fragment,null,s?R?r.a.createElement(r.a.Fragment,null," Please Wait., Loading..!"):r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"main col-md-6 d-flex align-items-center justify-content-center"},b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null,"You scored ",T," out of ",t.length),r.a.createElement("p",null,"Participated in ",I),r.a.createElement("p",null,"Total scored ",N))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12 mb-2"},r.a.createElement("div",{className:""},r.a.createElement("span",null,"Question ",p+1),"/",t.length),r.a.createElement("div",{className:""},t[p].questionText)),r.a.createElement("div",{className:"col-md-12"},t[p].answerOptions.map((function(e,t){return r.a.createElement("div",{className:"w-100",key:t},r.a.createElement(X,Object.assign({index:t},e)))})))))),r.a.createElement("div",{className:"col-md-3"})):r.a.createElement(g,null))};function T(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({}),m=Object(o.a)(s,2),p=m[0],h=m[1];Object(n.useEffect)((function(){var e=localStorage.getItem("userdata");if(""!==e&&null!==e){c(!0);var t=JSON.parse(e);h(t)}}),[a]);return r.a.createElement(l.Provider,{value:{isAuthenticated:a,setIsAuthenticated:c,userData:p,setUserData:h}},r.a.createElement(w,{handleLogout:function(){c(!1),localStorage.setItem("userdata","")}}),r.a.createElement(i.a,{className:"containerMain"},r.a.createElement(d.a,{basename:"dwquiz"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement("div",{className:"row bg-light p-5 my-5 rounded"},r.a.createElement("div",{className:"col-md-12 text-center"},a?r.a.createElement("p",null,"Welcome ",p.name," "):r.a.createElement(r.a.Fragment,null,"Please Login")))))}}),r.a.createElement(u.b,{exact:!0,path:"/login",component:g}),r.a.createElement(u.b,{path:"/dw-video/:video_url",children:r.a.createElement(j,null)}),r.a.createElement(u.b,{component:function(){return r.a.createElement(u.b,{render:function(e){var t=e.staticContext;return t&&(t.status=404),r.a.createElement("div",null,r.a.createElement("h1",null,"404 : Not Found"))}})}})))))}a(65).config(),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.d322ac93.chunk.js.map